<!doctype html>

<head>
    <meta charset="utf-8">
    <title>AttachmentTree</title>
    <script nonce="ToBeReplacedByRandomToken" src="./assets/antlr-blockly/blockly_compressed.js"></script>
    <script nonce="ToBeReplacedByRandomToken" src="./assets/antlr-blockly/blocks_compressed.js"></script>
    <script nonce="ToBeReplacedByRandomToken" src="./assets/antlr-blockly/javascript_compressed.js"></script>
    <script nonce="ToBeReplacedByRandomToken" src="./assets/antlr-blockly/zh-hans.js"></script>
    <link rel="stylesheet" href="./assets/AttachmentTree/style.css">
    <style>
      body {
        background-color: white;
        padding: 0;
      }
      span.blocklyTreeLabel{
        color:black;
      }
    </style>
</head>

<body>

  <p>
    <button id="importbutton" onclick="window.trigger([0,lastvalue[0]+' ']);window.buildBlocks()">import</button>
    <button id="savebutton" style="display: none;" onclick="globalThis.clickReturn()">save</button>
    <input id="svgviewbox" type="text" style="width: 300px;display: none;" value="-100000 -100000 200000 200000">
    <button onclick="window.svgsizefunc=()=>0;walker.viewbox=svgviewbox.value;window.buildBlocks()" style="display: none;">fixed viewbox</button>
    <button onclick='svgviewboxlastclick()'>last click</button>
    <button onclick='window.svgsizefunc=autoresizesvg;autoresizesvg()'>auto viewbox</button>
    <span class='pc0'>0</span><span
        class='pc1'>1</span><span class='pc2'>2</span><span class='pc3'>3</span><span class='pc4'>4</span><span
        class='pc5'>5</span><span class='pc6'>6</span><span class='pc7'>7</span><span class='pc8'>8</span><span
        class='pc9'>9</span>
  </p>
    <div style="clear: both;"></div>
    <div style="float: left;">
        <div id="blocklyDiv" style="height: 550px; width: 450px;"></div>
    </div>
    <div id="svgParentDiv" style="float: left;width:calc(95vw - 450px);margin-left: 0.3vw;">
        <div id="svgoutput" style="transform: rotateX(180deg);"></div>
    </div>
    <div style="clear: both;"></div>
    <textarea name="blocklyinput" id="blocklyinput" cols="60" rows="27" spellcheck="false">
    </textarea>

    <script>
      globalThis.blocklydivinitjson={
          media: './assets/antlr-blockly/media/',
          toolbox: 'toolbox',
          zoom:{
              controls: true,
              wheel: false,//false
              startScale: 0.5,
              maxScale: 1.2,
              minScale: 0.2,
              scaleSpeed: 1.08
          },
          trashcan: false,
      };
      globalThis.blocklymedia='./assets/antlr-blockly/media/'
      globalThis.vscodenoce='ToBeReplacedByRandomToken'
      var blocklysetting='blockly_setting_inject_token'
      if(blocklysetting.width){
        blocklyDiv.style.width=blocklysetting.width
        svgParentDiv.style.width=`calc(95vw - ${blocklysetting.width})`
        blocklyDiv.style.height=blocklysetting.height
        globalThis.blocklydivinitjson.zoom.startScale=blocklysetting.startScale
        globalThis.blocklydivinitjson.zoom.maxScale=blocklysetting.maxScale
        globalThis.blocklydivinitjson.zoom.minScale=blocklysetting.minScale
        globalThis.blocklydivinitjson.zoom.scaleSpeed=blocklysetting.scaleSpeed
      }
    </script>
    <script nonce="ToBeReplacedByRandomToken" src="./assets/antlr-blockly/Converter.bundle.min.js"></script>
    <script nonce="ToBeReplacedByRandomToken" src="./assets/AttachmentTree/walker.js"></script>
    <script nonce="ToBeReplacedByRandomToken" src="./assets/AttachmentTree/page.js"></script>
    <script nonce="ToBeReplacedByRandomToken" src="./assets/AttachmentTree/AttachmentTree.js"></script>
    <script nonce="ToBeReplacedByRandomToken" src="./assets/connect.js"></script>
</body>

</html>